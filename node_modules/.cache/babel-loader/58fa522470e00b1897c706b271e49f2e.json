{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar dragDrop_1 = require(\"../actions/dragDrop\");\n\nvar registry_1 = require(\"../actions/registry\");\n\nvar equality_1 = require(\"../utils/equality\");\n\nvar dirtiness_1 = require(\"../utils/dirtiness\");\n\nvar discount_lodash_1 = require(\"../utils/discount_lodash\");\n\nfunction dirtyHandlerIds(state, action) {\n  if (state === void 0) {\n    state = dirtiness_1.NONE;\n  }\n\n  switch (action.type) {\n    case dragDrop_1.HOVER:\n      break;\n\n    case registry_1.ADD_SOURCE:\n    case registry_1.ADD_TARGET:\n    case registry_1.REMOVE_TARGET:\n    case registry_1.REMOVE_SOURCE:\n      return dirtiness_1.NONE;\n\n    case dragDrop_1.BEGIN_DRAG:\n    case dragDrop_1.PUBLISH_DRAG_SOURCE:\n    case dragDrop_1.END_DRAG:\n    case dragDrop_1.DROP:\n    default:\n      return dirtiness_1.ALL;\n  }\n\n  var _a = action.payload,\n      _b = _a.targetIds,\n      targetIds = _b === void 0 ? [] : _b,\n      _c = _a.prevTargetIds,\n      prevTargetIds = _c === void 0 ? [] : _c;\n  var result = discount_lodash_1.xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return dirtiness_1.NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}\n\nexports.default = dirtyHandlerIds;","map":{"version":3,"names":["Object","defineProperty","exports","value","dragDrop_1","require","registry_1","equality_1","dirtiness_1","discount_lodash_1","dirtyHandlerIds","state","action","NONE","type","HOVER","ADD_SOURCE","ADD_TARGET","REMOVE_TARGET","REMOVE_SOURCE","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","END_DRAG","DROP","ALL","_a","payload","_b","targetIds","_c","prevTargetIds","result","xor","didChange","length","areArraysEqual","prevInnermostTargetId","innermostTargetId","push","default"],"sources":["C:/Users/rytways/Downloads/simple-kanban-board/node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dragDrop_1 = require(\"../actions/dragDrop\");\nvar registry_1 = require(\"../actions/registry\");\nvar equality_1 = require(\"../utils/equality\");\nvar dirtiness_1 = require(\"../utils/dirtiness\");\nvar discount_lodash_1 = require(\"../utils/discount_lodash\");\nfunction dirtyHandlerIds(state, action) {\n    if (state === void 0) { state = dirtiness_1.NONE; }\n    switch (action.type) {\n        case dragDrop_1.HOVER:\n            break;\n        case registry_1.ADD_SOURCE:\n        case registry_1.ADD_TARGET:\n        case registry_1.REMOVE_TARGET:\n        case registry_1.REMOVE_SOURCE:\n            return dirtiness_1.NONE;\n        case dragDrop_1.BEGIN_DRAG:\n        case dragDrop_1.PUBLISH_DRAG_SOURCE:\n        case dragDrop_1.END_DRAG:\n        case dragDrop_1.DROP:\n        default:\n            return dirtiness_1.ALL;\n    }\n    var _a = action.payload, _b = _a.targetIds, targetIds = _b === void 0 ? [] : _b, _c = _a.prevTargetIds, prevTargetIds = _c === void 0 ? [] : _c;\n    var result = discount_lodash_1.xor(targetIds, prevTargetIds);\n    var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);\n    if (!didChange) {\n        return dirtiness_1.NONE;\n    }\n    // Check the target ids at the innermost position. If they are valid, add them\n    // to the result\n    var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n    var innermostTargetId = targetIds[targetIds.length - 1];\n    if (prevInnermostTargetId !== innermostTargetId) {\n        if (prevInnermostTargetId) {\n            result.push(prevInnermostTargetId);\n        }\n        if (innermostTargetId) {\n            result.push(innermostTargetId);\n        }\n    }\n    return result;\n}\nexports.default = dirtyHandlerIds;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,UAAU,GAAGC,OAAO,CAAC,qBAAD,CAAxB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,qBAAD,CAAxB;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,mBAAD,CAAxB;;AACA,IAAIG,WAAW,GAAGH,OAAO,CAAC,oBAAD,CAAzB;;AACA,IAAII,iBAAiB,GAAGJ,OAAO,CAAC,0BAAD,CAA/B;;AACA,SAASK,eAAT,CAAyBC,KAAzB,EAAgCC,MAAhC,EAAwC;EACpC,IAAID,KAAK,KAAK,KAAK,CAAnB,EAAsB;IAAEA,KAAK,GAAGH,WAAW,CAACK,IAApB;EAA2B;;EACnD,QAAQD,MAAM,CAACE,IAAf;IACI,KAAKV,UAAU,CAACW,KAAhB;MACI;;IACJ,KAAKT,UAAU,CAACU,UAAhB;IACA,KAAKV,UAAU,CAACW,UAAhB;IACA,KAAKX,UAAU,CAACY,aAAhB;IACA,KAAKZ,UAAU,CAACa,aAAhB;MACI,OAAOX,WAAW,CAACK,IAAnB;;IACJ,KAAKT,UAAU,CAACgB,UAAhB;IACA,KAAKhB,UAAU,CAACiB,mBAAhB;IACA,KAAKjB,UAAU,CAACkB,QAAhB;IACA,KAAKlB,UAAU,CAACmB,IAAhB;IACA;MACI,OAAOf,WAAW,CAACgB,GAAnB;EAbR;;EAeA,IAAIC,EAAE,GAAGb,MAAM,CAACc,OAAhB;EAAA,IAAyBC,EAAE,GAAGF,EAAE,CAACG,SAAjC;EAAA,IAA4CA,SAAS,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA7E;EAAA,IAAiFE,EAAE,GAAGJ,EAAE,CAACK,aAAzF;EAAA,IAAwGA,aAAa,GAAGD,EAAE,KAAK,KAAK,CAAZ,GAAgB,EAAhB,GAAqBA,EAA7I;EACA,IAAIE,MAAM,GAAGtB,iBAAiB,CAACuB,GAAlB,CAAsBJ,SAAtB,EAAiCE,aAAjC,CAAb;EACA,IAAIG,SAAS,GAAGF,MAAM,CAACG,MAAP,GAAgB,CAAhB,IAAqB,CAAC3B,UAAU,CAAC4B,cAAX,CAA0BP,SAA1B,EAAqCE,aAArC,CAAtC;;EACA,IAAI,CAACG,SAAL,EAAgB;IACZ,OAAOzB,WAAW,CAACK,IAAnB;EACH,CAtBmC,CAuBpC;EACA;;;EACA,IAAIuB,qBAAqB,GAAGN,aAAa,CAACA,aAAa,CAACI,MAAd,GAAuB,CAAxB,CAAzC;EACA,IAAIG,iBAAiB,GAAGT,SAAS,CAACA,SAAS,CAACM,MAAV,GAAmB,CAApB,CAAjC;;EACA,IAAIE,qBAAqB,KAAKC,iBAA9B,EAAiD;IAC7C,IAAID,qBAAJ,EAA2B;MACvBL,MAAM,CAACO,IAAP,CAAYF,qBAAZ;IACH;;IACD,IAAIC,iBAAJ,EAAuB;MACnBN,MAAM,CAACO,IAAP,CAAYD,iBAAZ;IACH;EACJ;;EACD,OAAON,MAAP;AACH;;AACD7B,OAAO,CAACqC,OAAR,GAAkB7B,eAAlB"},"metadata":{},"sourceType":"script"}